include ../buttons/buttons
include ../form-element/form-element

mixin sum-guests()

  -const {guestsModifier, guestsInput, guestsLabel, guestsHead}=attributes
  -const visitors = ['взрослые', 'дети', 'младенцы']
  -const visitorsId = ['adult', 'children', 'babies']

    div(class=['sum-guests',
    `${guestsModifier ? `sum-guests_${guestsModifier}`:''}`]) #{guestsHead ? guestsHead:null}

      +form-element()(typeOfForm ='dropdown' placeholderForForm='Сколько гостей'
        modifierForInput=guestsInput ? guestsInput: 'for-guests',
        modifierForLabel=guestsLabel ? guestsLabel: 'for-guests',
        jsModifierForInput='for-guests')

      div.sum-guests__popup.js-sum-guests__popup.sum-guests__popup_hide(tabindex=0)

        div.sum-guests__count-container
          each value, index in visitors

            div.sum-guests__container(class=`sum-guests__container_${visitorsId[index]} js-sum-guests__container_${visitorsId[index]}`)

              span.sum-guests__type-visitors #{value}

              div.sum-guests__number-of-visitors-wrapper
                button(type='button' class='sum-guests__button sum-guests__button_minus js-sum-guests__button_minus') -
                span.sum-guests__number-of-visitors.js-sum-guests__number-of-visitors 0
                button(type='button' class='sum-guests__button sum-guests__button_plus js-sum-guests__button_plus') +

        div.sum-guests__buttons-footer-container.js-sum-guests__buttons-footer-container

          +buttons()(typeOfButtons='transparent' contentOfButtons='очистить'
           modifierForButtons='clear' hideModifierForButtons='hide' jsModifierForButtons='clear')

          +buttons()(typeOfButtons='transparent' contentOfButtons='применить'
           modifierForButtons='apply' jsModifierForButtons='apply')
